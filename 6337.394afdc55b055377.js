"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6337],{6337:(k,g,a)=>{a.r(g),a.d(g,{CrearConsultaPageModule:()=>S});var c=a(6895),l=a(433),r=a(5035),p=a(1407),d=a(655),C=a(253),e=a(8256),f=a(3079),v=a(9751);let _=(()=>{class o{constructor(){}crearConulta(n){return console.log(n),new v.y(t=>{t.next(""),t.complete()})}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Z(o,i){if(1&o&&(e.TgZ(0,"ion-select-option",17),e._uU(1),e.qZA()),2&o){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.value,"")}}function h(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Campo requerido"),e.qZA())}function T(o,i){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,h,2,0,"span",15),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.tipoLesion||null==n.tipoLesion.errors?null:n.tipoLesion.errors.required)}}function b(o,i){if(1&o&&(e.TgZ(0,"ion-select-option",19),e._uU(1),e.qZA()),2&o){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.value,"")}}function q(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Campo requerido"),e.qZA())}function P(o,i){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,q,2,0,"span",15),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.formaLesion||null==n.formaLesion.errors?null:n.formaLesion.errors.required)}}function A(o,i){if(1&o&&(e.TgZ(0,"ion-select-option",19),e._uU(1),e.qZA()),2&o){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.value,"")}}function L(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Campo requerido"),e.qZA())}function D(o,i){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,L,2,0,"span",15),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.numeroLesiones||null==n.numeroLesiones.errors?null:n.numeroLesiones.errors.required)}}function y(o,i){if(1&o&&(e.TgZ(0,"ion-select-option",19),e._uU(1),e.qZA()),2&o){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.value,"")}}function x(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Campo requerido"),e.qZA())}function J(o,i){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,x,2,0,"span",15),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.distribucion||null==n.distribucion.errors?null:n.distribucion.errors.required)}}function U(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"h2",6),e._uU(2,"Parte del cuerpo"),e.qZA(),e.TgZ(3,"ion-item")(4,"ion-button",20),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.escogerParteDelCuerpo())}),e._uU(5," Seleccionar parte del cuerpo "),e.qZA()()()}}function F(o,i){1&o&&(e.TgZ(0,"div")(1,"ion-item")(2,"ion-label"),e._uU(3," Parte del cuerpo: "),e.qZA(),e._UZ(4,"ion-input",21),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("disabled",!0))}function I(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Campo requerido"),e.qZA())}function N(o,i){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,I,2,0,"span",15),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.parteDelCuerpo||null==n.parteDelCuerpo.errors?null:n.parteDelCuerpo.errors.required)}}const Y=[{path:"",component:(()=>{class o{constructor(n,t,u,s,m,O,M){this.fb=n,this.alertController=t,this.router=u,this.loadingController=s,this.app=m,this.crearConsultaService=O,this.modalCtrl=M,this.consulta=this.fb.group({tipoLesion:[null,[l.kI.required]],formaLesion:[null,[l.kI.required]],numeroLesiones:[null,[l.kI.required]],distribucion:[null,[l.kI.required]],parteDelCuerpo:["",[l.kI.required]],parteDelCuerpoId:[null]})}ngOnInit(){}crearConsulta(){return(0,d.mG)(this,void 0,void 0,function*(){this.consulta.markAsDirty(),Object.keys(this.consulta.controls).forEach(n=>{var t;null===(t=this.consulta.get(n))||void 0===t||t.markAllAsTouched()}),this.consulta.valid&&(yield this.crearConsultaTipoDiagnostico())})}crearConsultaTipoDiagnostico(){return(0,d.mG)(this,void 0,void 0,function*(){const n=yield this.alertController.create({header:"Seleccione el tipo de digan\xf3stico",buttons:["Cancelar","Aceptar"],inputs:[{label:"Auto-generado",type:"radio",value:"auto"},{label:"Medico",type:"radio",value:"med"}]});yield n.present();const{data:t}=yield n.onDidDismiss();console.log("Alert",t.values);const u=yield this.loadingController.create();yield u.present(),this.crearConsultaService.crearConulta(this.consulta.value).subscribe(()=>{this.router.navigateByUrl("/inicio",{replaceUrl:!0}),u.dismiss()})})}escogerParteDelCuerpo(){var n,t;return(0,d.mG)(this,void 0,void 0,function*(){console.log("Escogiendo parte del cuerpo");const u=yield this.modalCtrl.create({component:C.i});u.present();const{data:s,role:m}=yield u.onWillDismiss();"escoger"===m&&(console.log("Parte del cuerpo ",s),null===(n=this.consulta.get("parteDelCuerpo"))||void 0===n||n.setValue(s.nombre),null===(t=this.consulta.get("parteDelCuerpoId"))||void 0===t||t.setValue(s.id))})}get tipoLesion(){return this.consulta.get("tipoLesion")}get formaLesion(){return this.consulta.get("formaLesion")}get numeroLesiones(){return this.consulta.get("numeroLesiones")}get distribucion(){return this.consulta.get("distribucion")}get parteDelCuerpo(){return this.consulta.get("parteDelCuerpo")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(l.qu),e.Y36(r.Br),e.Y36(p.F0),e.Y36(r.HT),e.Y36(f.z),e.Y36(_),e.Y36(r.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-consulta"]],decls:47,vars:12,consts:[[1,"center"],["slot","start"],[1,"crear-consulta-title"],[1,"capitalize"],[1,"crear-consulta-info"],[3,"formGroup","ngSubmit"],[1,"form-title"],[1,"question-label"],["formControlName","tipoLesion","placeholder","Seleccione su tipo de lesi\xf3n",1,"form-item"],["text-wrap","","value","42",3,"value",4,"ngFor","ngForOf"],["class","form-error",4,"ngIf"],["formControlName","formaLesion","placeholder","Seleccione la forma de la lesi\xf3n",1,"form-item"],[3,"value",4,"ngFor","ngForOf"],["formControlName","numeroLesiones","placeholder","Seleccione la cantidad de lesiones",1,"form-item"],["formControlName","distribucion","placeholder","Seleccione la distribuci\xf3n de la lesi\xf3n",1,"form-item"],[4,"ngIf"],["id","crear-consulta-button","expand","block",3,"click"],["text-wrap","","value","42",3,"value"],[1,"form-error"],[3,"value"],["id","parte-cuerpo-button","expand","block","type","button",1,"form-item",3,"click"],["type","tipoLesion","placeholder","","formControlName","parteDelCuerpo",3,"disabled"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e._uU(3,"Crear consulta"),e.qZA()(),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-menu-button"),e.qZA()(),e.TgZ(6,"ion-content")(7,"div",2)(8,"strong",3),e._uU(9,"Explicaci\xf3n de crear consulta."),e.qZA()(),e.TgZ(10,"div",4)(11,"p"),e._uU(12,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),e.qZA()(),e.TgZ(13,"form",5),e.NdJ("ngSubmit",function(){return t.crearConsulta()}),e.TgZ(14,"h2",6),e._uU(15,"Descripci\xf3n de la lesi\xf3n"),e.qZA(),e.TgZ(16,"ion-item")(17,"ion-label",7),e._uU(18,"Tipos de lesi\xf3n:"),e.qZA(),e.TgZ(19,"ion-select",8),e.YNc(20,Z,2,2,"ion-select-option",9),e.qZA()(),e.YNc(21,T,2,1,"div",10),e.TgZ(22,"ion-item")(23,"ion-label",7),e._uU(24,"Forma lesi\xf3n"),e.qZA(),e.TgZ(25,"ion-select",11),e.YNc(26,b,2,2,"ion-select-option",12),e.qZA()(),e.YNc(27,P,2,1,"div",10),e.TgZ(28,"ion-item")(29,"ion-label",7),e._uU(30,"N\xfamero de lesiones"),e.qZA(),e.TgZ(31,"ion-select",13),e.YNc(32,A,2,2,"ion-select-option",12),e.qZA()(),e.YNc(33,D,2,1,"div",10),e.TgZ(34,"ion-item")(35,"ion-label",7),e._uU(36,"Distribuci\xf3n"),e.qZA(),e.TgZ(37,"ion-select",14),e.YNc(38,y,2,2,"ion-select-option",12),e.qZA()(),e.YNc(39,J,2,1,"div",10),e.YNc(40,U,6,0,"div",15),e.YNc(41,F,5,1,"div",15),e.YNc(42,N,2,1,"div",10),e.qZA()(),e.TgZ(43,"ion-footer")(44,"div",0)(45,"ion-button",16),e.NdJ("click",function(){return t.crearConsulta()}),e._uU(46," Crear consulta "),e.qZA()()()),2&n&&(e.xp6(13),e.Q6J("formGroup",t.consulta),e.xp6(7),e.Q6J("ngForOf",t.app.consulta.tiposDeLesion),e.xp6(1),e.Q6J("ngIf",(null==t.tipoLesion?null:t.tipoLesion.dirty)||(null==t.tipoLesion?null:t.tipoLesion.touched)),e.xp6(5),e.Q6J("ngForOf",t.app.consulta.formas),e.xp6(1),e.Q6J("ngIf",(null==t.formaLesion?null:t.formaLesion.dirty)||(null==t.formaLesion?null:t.formaLesion.touched)),e.xp6(5),e.Q6J("ngForOf",t.app.consulta.numeroDeLesiones),e.xp6(1),e.Q6J("ngIf",(null==t.numeroLesiones?null:t.numeroLesiones.dirty)||(null==t.numeroLesiones?null:t.numeroLesiones.touched)),e.xp6(5),e.Q6J("ngForOf",t.app.consulta.distribucion),e.xp6(1),e.Q6J("ngIf",(null==t.distribucion?null:t.distribucion.dirty)||(null==t.distribucion?null:t.distribucion.touched)),e.xp6(1),e.Q6J("ngIf",null==t.parteDelCuerpo?null:t.parteDelCuerpo.invalid),e.xp6(1),e.Q6J("ngIf",!(null!=t.parteDelCuerpo&&t.parteDelCuerpo.invalid)),e.xp6(1),e.Q6J("ngIf",(null==t.parteDelCuerpo?null:t.parteDelCuerpo.dirty)||(null==t.parteDelCuerpo?null:t.parteDelCuerpo.touched)))},dependencies:[c.sg,c.O5,l._Y,l.JJ,l.JL,r.YG,r.Sm,r.W2,r.fr,r.Gu,r.pK,r.Ie,r.Q$,r.fG,r.t9,r.n0,r.wd,r.sr,r.QI,r.j9,l.sg,l.u],styles:[".crear-consulta-title[_ngcontent-%COMP%]{padding-top:25px;text-align:center}.crear-consulta-info[_ngcontent-%COMP%]{padding:20px;text-align:justify}.form-item[_ngcontent-%COMP%]{width:100%}.form-title[_ngcontent-%COMP%]{padding-left:20px}ion-select[_ngcontent-%COMP%]::part(placeholder), ion-select[_ngcontent-%COMP%]::part(text){white-space:break-spaces!important}"]}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(Y),p.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,l.u5,r.Pc,Q,l.UX]}),o})()}}]);