"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5830],{5830:(ee,p,l)=>{l.r(p),l.d(p,{RegistroPageModule:()=>$});var f=l(6895),t=l(433),s=l(5035),g=l(1407),d=l(655),v=l(4575),e=l(8256),_=l(2340),h=l(529);const Z=_.N.API.API_URL+_.N.API.API_REGISTRO_USUARIO_ENDPOINT;let q=(()=>{class r{constructor(i){this.http=i}registro(i){return this.http.post(Z,i)}}return r.\u0275fac=function(i){return new(i||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function T(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El correo es requerido"),e.qZA())}function b(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El correo es inv\xe1lido"),e.qZA())}function P(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,T,2,0,"span",9),e.YNc(2,b,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email)}}function C(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre es requerido"),e.qZA())}function I(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre necesita un m\xednimo de 4 caracteres"),e.qZA())}function A(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre necesita un m\xe1ximo de 60 caracteres"),e.qZA())}function R(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,C,2,0,"span",9),e.YNc(2,I,2,0,"span",9),e.YNc(3,A,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.nombre||null==i.nombre.errors?null:i.nombre.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.nombre||null==i.nombre.errors?null:i.nombre.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.nombre||null==i.nombre.errors?null:i.nombre.errors.maxlength)}}function N(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La edad es requerida"),e.qZA())}function w(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La edad m\xednima es de 18 a\xf1os."),e.qZA())}function x(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La edad m\xe1xima es de 99 a\xf1os."),e.qZA())}function y(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,N,2,0,"span",9),e.YNc(2,w,2,0,"span",9),e.YNc(3,x,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.edad||null==i.edad.errors?null:i.edad.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.edad||null==i.edad.errors?null:i.edad.errors.min),e.xp6(1),e.Q6J("ngIf",null==i.edad||null==i.edad.errors?null:i.edad.errors.max)}}function U(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La residencia es requerida"),e.qZA())}function D(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La residencia necesita un m\xednimo de 4 caracteres"),e.qZA())}function Y(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"la residencia necesita un m\xe1ximo de 20 caracteres"),e.qZA())}function J(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,U,2,0,"span",9),e.YNc(2,D,2,0,"span",9),e.YNc(3,Y,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.residencia||null==i.residencia.errors?null:i.residencia.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.residencia||null==i.residencia.errors?null:i.residencia.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.residencia||null==i.residencia.errors?null:i.residencia.errors.maxlength)}}function Q(r,o){if(1&r){const i=e.EpF();e.TgZ(0,"ion-button",16),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.crearPerfilDermatologico())}),e._uU(1," Crear perfil dematol\xf3gico "),e.qZA()}}function k(r,o){1&r&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-checkbox",17),e.TgZ(2,"ion-label"),e._uU(3,"Pefil dematol\xf3gico creado"),e.qZA()())}function E(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"El perfil dematol\xf3gico es requerido"),e.qZA())}function L(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,E,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.validacionPerfilDematologico||null==i.validacionPerfilDematologico.errors?null:i.validacionPerfilDematologico.errors.required)}}function F(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a es requerida"),e.qZA())}function M(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a nombre necesita un m\xednimo de 4 caracteres"),e.qZA())}function S(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a necesita un m\xe1ximo de 60 caracteres"),e.qZA())}function G(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,F,2,0,"span",9),e.YNc(2,M,2,0,"span",9),e.YNc(3,S,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.maxlength)}}function V(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a es requerida"),e.qZA())}function j(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a necesita un m\xednimo de 4 caracteres"),e.qZA())}function B(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a necesita un m\xe1ximo de 60 caracteres"),e.qZA())}function z(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1as deben coincidir"),e.qZA())}function O(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,V,2,0,"span",9),e.YNc(2,j,2,0,"span",9),e.YNc(3,B,2,0,"span",9),e.YNc(4,z,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.passwordConfirmation||null==i.passwordConfirmation.errors?null:i.passwordConfirmation.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.passwordConfirmation||null==i.passwordConfirmation.errors?null:i.passwordConfirmation.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.passwordConfirmation||null==i.passwordConfirmation.errors?null:i.passwordConfirmation.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==i.passwordConfirmation||null==i.passwordConfirmation.errors?null:i.passwordConfirmation.errors.confirmedValidator)}}function H(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"Aceptar termino y condiciones es requerido"),e.qZA())}function K(r,o){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,H,2,0,"span",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.terminosCondiciones||null==i.terminosCondiciones.errors?null:i.terminosCondiciones.errors.required)}}const W=[{path:"",component:(()=>{class r{constructor(i,n,a,u,m,c){this.fb=i,this.alertController=n,this.router=a,this.loadingController=u,this.registroService=m,this.modalCtrl=c,this.registro=this.fb.group({email:["",[t.kI.required,t.kI.email]],nombre:["",[t.kI.required,t.kI.minLength(4),t.kI.maxLength(60)]],edad:[null,[t.kI.required,t.kI.max(99),t.kI.min(18)]],residencia:["",[t.kI.required,t.kI.minLength(4),t.kI.maxLength(20)]],validacionPerfilDematologico:[!1,[t.kI.requiredTrue]],perfilDematologico:[null],password:["",[t.kI.required,t.kI.minLength(6),t.kI.maxLength(24)]],passwordConfirmation:["",[t.kI.required,t.kI.minLength(6),t.kI.maxLength(24)]],terminosCondiciones:[!1,[t.kI.requiredTrue]]},{validators:this.confirmedValidator("password","passwordConfirmation")})}crearPerfilDermatologico(){var i,n,a;return(0,d.mG)(this,void 0,void 0,function*(){const u=yield this.modalCtrl.create({component:v.T});u.present();const{data:m,role:c}=yield u.onWillDismiss();"escoger"===c&&(null===(i=this.registro.get("validacionPerfilDematologico"))||void 0===i||i.setValue(!0),null===(n=this.registro.get("validacionPerfilDematologico"))||void 0===n||n.disable(),null===(a=this.registro.get("perfilDematologico"))||void 0===a||a.setValue(m))})}registrarse(){var i;return(0,d.mG)(this,void 0,void 0,function*(){if(this.registro.invalid)Object.keys(this.registro.controls).forEach(n=>{var a;null===(a=this.registro.get(n))||void 0===a||a.markAllAsTouched()}),null==(null===(i=this.registro.get("perfilDematologico"))||void 0===i?void 0:i.value)&&(yield(yield this.alertController.create({header:"Registro",message:"Debe crear un perfil dermatol\xf3gico para continuar.",buttons:["Aceptar"]})).present());else{const n=yield this.loadingController.create();yield n.present(),this.registroService.registro(this.transformarParaBackend(this.registro.value)).subscribe({next:a=>(0,d.mG)(this,void 0,void 0,function*(){yield n.dismiss(),yield n.dismiss(),yield(yield this.alertController.create({header:"Registro Exitoso",message:"Gracias por registrarse en DermoApp",buttons:["Aceptar"]})).present(),this.router.navigateByUrl("/login",{replaceUrl:!0})}),error:a=>(0,d.mG)(this,void 0,void 0,function*(){yield n.dismiss(),yield(yield this.alertController.create({header:"Registro fallido",message:a.error.error,buttons:["Aceptar"]})).present()})})}})}verTerminosYCondiciones(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Terminos y condiciones",message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sapien ex, convallis at enim vel, rutrum luctus risus. Morbi imperdiet porttitor scelerisque. Vivamus rhoncus felis vel vulputate luctus. Maecenas in mattis enim, quis tristique purus. Nunc sed faucibus nunc, id venenatis leo. Curabitur orci est, lacinia et nisi eget, rhoncus elementum urna. Duis massa quam, porttitor at efficitur malesuada, fringilla a eros. Donec iaculis enim nec ante tincidunt fermentum. Pellentesque vel fermentum diam. Praesent sit amet fermentum lacus, quis volutpat massa. Proin consequat eros vitae orci luctus, vel faucibus lectus fringilla. Aliquam tincidunt scelerisque ante, tempus congue elit blandit eget. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Etiam id nibh diam. Curabitur mauris velit, eleifend egestas pellentesque a, porta ut quam.\n\n\t\t\tNunc fringilla ante nec ante molestie, vitae gravida est ullamcorper. Proin eget eleifend dolor. Nam varius nisl a rhoncus malesuada. Quisque sed lorem ac leo iaculis pulvinar. Morbi vestibulum volutpat mauris a cursus. Nulla vel ex tincidunt, ultrices justo sed, placerat lorem. Suspendisse potenti. Sed fringilla consequat risus a convallis. Quisque faucibus arcu in mollis fermentum. Maecenas est velit, vestibulum sed risus in, congue efficitur purus. Cras at auctor neque, ac rutrum nunc.\n\n\t\t\tPhasellus porttitor dolor tempor velit venenatis pulvinar. Vivamus eu est sit amet velit ullamcorper laoreet vitae in justo. Duis pellentesque vitae sapien ac pretium. In scelerisque ante quis dictum sollicitudin. Cras sit amet tortor tincidunt, varius tortor id, eleifend tellus. Proin pulvinar orci eros, et malesuada metus iaculis in. In gravida iaculis risus.\n\n\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit. Donec orci urna, iaculis ac mi id, ornare volutpat eros. Pellentesque sagittis lorem ac dolor sodales, sit amet accumsan lectus venenatis. Donec venenatis metus augue, ut ultricies lorem vehicula eu. Proin ultrices volutpat ex, sit amet ornare orci finibus sit amet. Mauris tristique at sem ut condimentum. Mauris a lacinia ligula. In ac ex tempus, pretium nisi in, pharetra tellus. Maecenas ornare, ipsum non ultrices facilisis, ipsum purus tempus velit, ut fermentum orci ligula vitae nisi. Suspendisse nulla velit, hendrerit at ultricies sed, volutpat sed ex. Nunc ut tellus vestibulum, efficitur justo ut, gravida arcu. Aliquam blandit nisi gravida efficitur vestibulum. Etiam sem arcu, dapibus non massa eu, sagittis convallis odio. Duis elementum arcu eget ex aliquam, et semper eros dignissim. Cras et tellus quam. Duis odio magna, aliquet eu sodales eu, pellentesque vel enim.\n\n\t\t\tIn tempus urna in massa hendrerit vehicula. Curabitur semper velit quis enim rhoncus feugiat. Nullam semper ipsum eu urna ultricies facilisis. Maecenas porttitor augue nec semper rutrum. Maecenas finibus lorem et odio elementum, et vulputate magna venenatis. Nunc mattis nunc turpis, in venenatis mi eleifend eu. Maecenas quis nisl eu tellus mattis vehicula. Integer non ipsum varius, euismod ligula eget, efficitur nibh. Fusce consequat sem magna, nec porttitor diam ultricies eget. Aenean non maximus odio. Duis augue nunc, pulvinar ut nunc nec, vulputate tempor tellus. Aenean ultrices dignissim bibendum.\n\n\t\t\tGenerated 5 paragraphs, 485 words, 3293 bytes of Lorem Ipsum",cssClass:"alert-justify",buttons:["Aceptar"]})).present()})}transformarParaBackend(i){return{email:i.email,names:i.nombre,password:i.password,age:i.edad,location:i.residencia,dermatological_profile_uuid:i.perfilDematologico}}get email(){return this.registro.get("email")}get nombre(){return this.registro.get("nombre")}get edad(){return this.registro.get("edad")}get residencia(){return this.registro.get("residencia")}get validacionPerfilDematologico(){return this.registro.get("validacionPerfilDematologico")}get perfilDematologico(){return this.registro.get("perfilDematologico")}get password(){return this.registro.get("password")}get passwordConfirmation(){return this.registro.get("passwordConfirmation")}get terminosCondiciones(){return this.registro.get("terminosCondiciones")}confirmedValidator(i,n){return a=>{var u;const c=a.controls[n];c.errors&&(null===(u=c.errors)||void 0===u||!u.confirmedValidator)||c.setErrors(a.controls[i].value!==c.value?{confirmedValidator:!0}:null)}}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(t.qu),e.Y36(s.Br),e.Y36(g.F0),e.Y36(s.HT),e.Y36(q),e.Y36(s.IN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registro"]],decls:51,vars:11,consts:[[1,"center"],[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email"],["class","form-error",4,"ngIf"],["type","text","placeholder","Nombre","formControlName","nombre"],["type","number","placeholder","Edad","formControlName","edad"],["type","text","placeholder","Residencia","formControlName","residencia"],["id","perfil-dermatologico-button","type","button","expand","block",3,"click",4,"ngIf"],[4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["type","password","placeholder","Password","formControlName","passwordConfirmation"],["slot","start","formControlName","terminosCondiciones"],[3,"click"],["id","register-button","type","submit","expand","block",3,"click"],[1,"form-error"],["id","perfil-dermatologico-button","type","button","expand","block",3,"click"],["slot","start","formControlName","validacionPerfilDematologico"]],template:function(i,n){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e._uU(3,"Registro"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"form",1),e.NdJ("ngSubmit",function(){return n.registrarse()}),e.TgZ(6,"div",2)(7,"ion-item")(8,"ion-label"),e._uU(9,"Email"),e.qZA(),e._UZ(10,"ion-input",3),e.qZA(),e.YNc(11,P,3,2,"div",4),e.TgZ(12,"ion-item")(13,"ion-label"),e._uU(14,"Nombre"),e.qZA(),e._UZ(15,"ion-input",5),e.qZA(),e.YNc(16,R,4,3,"div",4),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Edad"),e.qZA(),e._UZ(20,"ion-input",6),e.qZA(),e.YNc(21,y,4,3,"div",4),e.TgZ(22,"ion-item")(23,"ion-label"),e._uU(24,"Lugar de residencia"),e.qZA(),e._UZ(25,"ion-input",7),e.qZA(),e.YNc(26,J,4,3,"div",4),e.YNc(27,Q,2,0,"ion-button",8),e.YNc(28,k,4,0,"ion-item",9),e.YNc(29,L,2,1,"div",4),e.TgZ(30,"ion-item")(31,"ion-label"),e._uU(32,"Contrase\xf1a"),e.qZA(),e._UZ(33,"ion-input",10),e.qZA(),e.YNc(34,G,4,3,"div",4),e.TgZ(35,"ion-item")(36,"ion-label"),e._uU(37,"Confirmar Contrase\xf1a"),e.qZA(),e._UZ(38,"ion-input",11),e.qZA(),e.YNc(39,O,5,4,"div",4),e.TgZ(40,"ion-item"),e._UZ(41,"ion-checkbox",12),e.TgZ(42,"ion-label"),e._uU(43,"Aceptar terminos y condiciones. "),e.TgZ(44,"a",13),e.NdJ("click",function(){return n.verTerminosYCondiciones()}),e._uU(45,"Leer"),e.qZA()()(),e.YNc(46,K,2,1,"div",4),e.qZA()()(),e.TgZ(47,"ion-footer")(48,"div",0)(49,"ion-button",14),e.NdJ("click",function(){return n.registrarse()}),e._uU(50," Registrarse "),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("formGroup",n.registro),e.xp6(6),e.Q6J("ngIf",((null==n.email?null:n.email.dirty)||(null==n.email?null:n.email.touched))&&(null==n.email?null:n.email.errors)),e.xp6(5),e.Q6J("ngIf",((null==n.nombre?null:n.nombre.dirty)||(null==n.nombre?null:n.nombre.touched))&&(null==n.nombre?null:n.nombre.errors)),e.xp6(5),e.Q6J("ngIf",((null==n.edad?null:n.edad.dirty)||(null==n.edad?null:n.edad.touched))&&(null==n.edad?null:n.edad.errors)),e.xp6(5),e.Q6J("ngIf",((null==n.residencia?null:n.residencia.dirty)||(null==n.residencia?null:n.residencia.touched))&&(null==n.residencia?null:n.residencia.errors)),e.xp6(1),e.Q6J("ngIf",!(null!=n.validacionPerfilDematologico&&n.validacionPerfilDematologico.value)),e.xp6(1),e.Q6J("ngIf",null==n.validacionPerfilDematologico?null:n.validacionPerfilDematologico.value),e.xp6(1),e.Q6J("ngIf",((null==n.validacionPerfilDematologico?null:n.validacionPerfilDematologico.dirty)||(null==n.validacionPerfilDematologico?null:n.validacionPerfilDematologico.touched))&&(null==n.residencia?null:n.residencia.errors)),e.xp6(5),e.Q6J("ngIf",((null==n.password?null:n.password.dirty)||(null==n.password?null:n.password.touched))&&(null==n.password?null:n.password.errors)),e.xp6(5),e.Q6J("ngIf",((null==n.passwordConfirmation?null:n.passwordConfirmation.dirty)||(null==n.passwordConfirmation?null:n.passwordConfirmation.touched))&&(null==n.passwordConfirmation?null:n.passwordConfirmation.errors)),e.xp6(7),e.Q6J("ngIf",((null==n.terminosCondiciones?null:n.terminosCondiciones.dirty)||(null==n.terminosCondiciones?null:n.terminosCondiciones.touched))&&(null==n.terminosCondiciones?null:n.terminosCondiciones.errors)))},dependencies:[f.O5,t._Y,t.JJ,t.JL,s.YG,s.nz,s.W2,s.fr,s.Gu,s.pK,s.Ie,s.Q$,s.wd,s.sr,s.w,s.as,s.j9,t.sg,t.u]}),r})()}];let X=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(W),g.Bz]}),r})(),$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.ez,t.u5,s.Pc,X,t.UX]}),r})()}}]);