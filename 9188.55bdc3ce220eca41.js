"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9188],{9188:(y,p,a)=>{a.r(p),a.d(p,{HistoriasClinicasPageModule:()=>I});var g=a(6895),m=a(433),e=a(5035),l=a(6955),c=a(655),i=a(8256),C=a(2340),v=a(529);const h=C.N.API.AUTH_API_URL+C.N.API.API_HISTORIAS_CLINICAS_ENDPOINT;let f=(()=>{class t{constructor(n){this.http=n}getHistoriasClinicas(){return this.http.get(h)}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(v.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var H=a(3079);function P(t,s){if(1&t&&(i.TgZ(0,"ion-select-option",8),i._uU(1),i.qZA()),2&t){const n=s.$implicit;i.Q6J("value",n.uuid),i.xp6(1),i.hij(" ",n.nombrePaciente,"")}}function A(t,s){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",6)(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",7),i.NdJ("click",function(){const u=i.CHM(n).$implicit,d=i.oxw();return i.KtG(d.verHistoriaClinica(u))}),i._uU(4,"Ver detalles"),i.qZA()()}if(2&t){const n=s.$implicit;i.xp6(2),i.Oqu(n.nombrePaciente)}}const T=[{path:"",component:(()=>{class t{constructor(n,o,r,u,d,F){this.historiasClinicasService=n,this.loadingController=o,this.router=r,this.alertController=u,this.fb=d,this.appService=F,this.pacientes=[]}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create();yield n.present(),this.historiasClinicasService.getHistoriasClinicas().subscribe({next:o=>(0,c.mG)(this,void 0,void 0,function*(){yield n.dismiss(),this.pacientes=this.convertirCasosMedicosBackendAFrontEnd(o.medical_history),console.log(this.pacientes)}),error:o=>(0,c.mG)(this,void 0,void 0,function*(){yield n.dismiss(),yield(yield this.alertController.create({header:"Error obteniendo las historias clinicas",message:o.error.error,buttons:["Aceptar"]})).present()})})})}convertirCasosMedicosBackendAFrontEnd(n){const o=[];return n.forEach(r=>o.push({uuid:r.uuid,nombrePaciente:r.patient.name,casosMedicos:[]})),o}verHistoriaClinica(n){return(0,c.mG)(this,void 0,void 0,function*(){yield this.router.navigate(["/consultas"])})}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(f),i.Y36(e.HT),i.Y36(l.F0),i.Y36(e.Br),i.Y36(m.qu),i.Y36(H.z))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-historias-clinicas"]],decls:24,vars:2,consts:[["slot","start"],[1,"web-view"],[1,"input-group"],["placeholder","Seleccione paciente"],[3,"value",4,"ngFor","ngForOf"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end",3,"click"],[3,"value"]],template:function(n,o){1&n&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i._uU(3,"Hisotiras clinicas"),i.qZA(),i.TgZ(4,"ion-buttons",0),i._UZ(5,"ion-menu-button"),i.qZA()()(),i.TgZ(6,"ion-content")(7,"div",1)(8,"div",2)(9,"div")(10,"ion-item")(11,"ion-label"),i._uU(12,"Filtrar por paciente"),i.qZA()(),i.TgZ(13,"ion-item")(14,"ion-select",3),i.YNc(15,P,2,2,"ion-select-option",4),i.qZA()(),i._UZ(16,"br"),i.TgZ(17,"ion-list"),i.YNc(18,A,5,1,"ion-item",5),i.TgZ(19,"ion-item",6)(20,"ion-label"),i._uU(21,"Test"),i.qZA(),i.TgZ(22,"ion-button",7),i.NdJ("click",function(){return o.verHistoriaClinica(null)}),i._uU(23,"Ver detalles"),i.qZA()()()()()()()),2&n&&(i.xp6(15),i.Q6J("ngForOf",o.pacientes),i.xp6(3),i.Q6J("ngForOf",o.pacientes))},dependencies:[g.sg,e.YG,e.Sm,e.W2,e.Gu,e.Ie,e.Q$,e.q_,e.fG,e.t9,e.n0,e.wd,e.sr,e.QI]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[l.Bz.forChild(T),l.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[g.ez,m.u5,e.Pc,Z]}),t})()}}]);