"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6174],{6174:(E,u,i)=>{i.r(u),i.d(u,{AgendaPageModule:()=>N});var s=i(6895),v=i(4006),o=i(5035),A=i(4032),l=i(5122),g=i(655),e=i(8274),m=i(7556),c=i(2340),f=i(529);const h=c.N.API.AGENDA_URL;let p=(()=>{class t{constructor(n){this.http=n}getAgenda(n){return this.http.get(h+c.N.API.API_AGENDA_ENDPOINT+"/"+n)}getEvento(n){return this.http.get(h+c.N.API.API_AGENDAR_CITA_ENDPOINT+"/"+n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function P(t,r){1&t&&(e.TgZ(0,"ion-item")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"agenda.labelNoTieneCita")))}function Z(t,r){if(1&t&&(e.TgZ(0,"ion-item")(1,"ion-card-header",3)(2,"ion-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"date"),e.qZA()()()),2&t){const n=r.$implicit,a=r.index;e.xp6(1),e.MGl("id","agenda-",a,""),e.xp6(2),e.AsE("",e.lcZ(4,5,"agenda.labelCitaMedica")," ",a+1,""),e.xp6(3),e.AsE("",e.lcZ(7,7,"agenda.horarioCitaMedica")," ",e.lcZ(8,9,n.start_date),"")}}const M=[{path:"",component:(()=>{class t{constructor(n,a,d,T,y){this.authService=n,this.agendaService=a,this.alertController=d,this.loadingController=T,this.router=y,this.eventos=[]}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({message:"Obteniendo agenda del medico"});yield n.present(),this.agendaService.getAgenda(this.authService.user.uuid).subscribe({next:a=>{console.log(a),this.obtenerAgendaMedico(a.agenda.events),n.dismiss()},error:a=>{console.log(a),this.erroObteniendoAgendaMedico(),n.dismiss()}})})}erroObteniendoAgendaMedico(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Error",message:"Error obteniendo la agenda del medico",buttons:["Aceptar"]})).present(),this.router.navigateByUrl("/inicio",{replaceUrl:!0})})}obtenerAgendaMedico(n){return(0,g.mG)(this,void 0,void 0,function*(){n.forEach(a=>{this.agendaService.getEvento(a).subscribe({next:d=>{this.eventos.push(d.event),console.log(d)},error:d=>{console.log(d)}})})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.e),e.Y36(p),e.Y36(o.Br),e.Y36(o.HT),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-agenda"]],decls:12,vars:5,consts:[["slot","start"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"id"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-buttons",0),e._UZ(6,"ion-menu-button"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-list"),e.YNc(9,P,5,3,"ion-item",1),e.YNc(10,Z,9,11,"ion-item",2),e.qZA(),e._UZ(11,"ion-card"),e.qZA()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"agenda.titulo")),e.xp6(6),e.Q6J("ngIf",0===a.eventos.length),e.xp6(1),e.Q6J("ngForOf",a.eventos))},dependencies:[s.sg,s.O5,o.Sm,o.PM,o.Zi,o.tO,o.Dq,o.W2,o.Gu,o.Ie,o.q_,o.fG,o.wd,o.sr,s.uU,A.X$]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(M),l.Bz]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.ez,v.u5,o.Pc,I,A.aw]}),t})()}}]);