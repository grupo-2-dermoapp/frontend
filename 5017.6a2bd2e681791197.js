"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5017],{5017:(S,C,r)=>{r.r(C),r.d(C,{CasosMedicosPageModule:()=>y});var u=r(6895),c=r(4006),n=r(5035),p=r(5122),g=r(655),m=r(8675),v=r(4004),Z=r(9751),o=r(8274),M=r(2340),f=r(529);const A=M.N.API.MEDICAL_CASES_URL+M.N.API.API_CASOS_MEDICOS_ENDPOINT;let b=(()=>{class e{constructor(s){this.http=s}obtenerCasosMedicos(){return this.http.get(A)}}return e.\u0275fac=function(s){return new(s||e)(o.LFG(f.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=r(7556),P=r(3079),h=r(4032);function x(e,a){if(1&e){const s=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col"),o._uU(2),o.qZA(),o.TgZ(3,"ion-col"),o._uU(4),o.qZA(),o.TgZ(5,"ion-col"),o._uU(6),o.qZA(),o.TgZ(7,"ion-col"),o._uU(8),o.qZA(),o.TgZ(9,"ion-col"),o._uU(10),o.qZA(),o.TgZ(11,"ion-col"),o._uU(12),o.qZA(),o.TgZ(13,"ion-col"),o._uU(14),o.qZA(),o.TgZ(15,"ion-col")(16,"ion-button",5),o.NdJ("click",function(){const d=o.CHM(s).$implicit,l=o.oxw();return o.KtG(l.verDetalleCasoMedico(d))}),o._uU(17),o.ALo(18,"translate"),o.qZA()()()}if(2&e){const s=a.$implicit,t=a.index;o.xp6(2),o.Oqu(t+1),o.xp6(2),o.Oqu(s.paciente.nombre),o.xp6(2),o.Oqu(s.tipoLesion.value),o.xp6(2),o.Oqu(s.formaLesion.value),o.xp6(2),o.Oqu(s.numeroLesiones.value),o.xp6(2),o.Oqu(s.distribucion.value),o.xp6(2),o.Oqu(s.parteDelCuerpo),o.xp6(3),o.Oqu(o.lcZ(18,8,"casosMedicos.botonSeleccionar"))}}const L=[{path:"",component:(()=>{class e{constructor(s,t,i,d,l,T,U){this.casosMedicosService=s,this.authService=t,this.loadingController=i,this.router=d,this.alertController=l,this.fb=T,this.appService=U,this.casos=[],this.filtroCasosMedicos=new Z.y,this.casosMedicosForm=this.fb.group({casosMedicosCtrl:[null]})}busquedaCasosMedicos(){var s;this.filtroCasosMedicos=null===(s=this.casosMedicosForm.get("casosMedicosCtrl"))||void 0===s?void 0:s.valueChanges.pipe((0,m.O)(""),(0,v.U)(t=>t?this._filtroCasosMedicos(t):this.casos))}_filtroCasosMedicos(s){if("string"==typeof s){const t=s.toLowerCase();return this.casos.filter(i=>(null==i?void 0:i.paciente.nombre.toLowerCase()).includes(t))}return""}verDetalleCasoMedico(s){this.router.navigate(["/detalle-consulta",{casoMedicoId:s.casoMedicoId}])}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){const s=yield this.loadingController.create();yield s.present(),this.casosMedicosService.obtenerCasosMedicos().subscribe({next:t=>(0,g.mG)(this,void 0,void 0,function*(){yield s.dismiss(),this.casos=this.convertirCasosMedicosBackendAFrontEnd(t.medical_cases),console.log(this.casos),this.busquedaCasosMedicos()}),error:t=>(0,g.mG)(this,void 0,void 0,function*(){yield s.dismiss(),yield(yield this.alertController.create({header:"Error obteniendo los casos medicos",message:t.error.error,buttons:["Aceptar"]})).present()})})})}convertirCasosMedicosBackendAFrontEnd(s){let t=[];return s.forEach((i,d)=>{var l;return t.push({tipoDeDiagnostico:i.type_of_diagnosis,casoMedicoId:i.uuid,tipoLesion:this.appService.obtenerConsultaPorId("tiposDeLesion",i.type_of_injury),formaLesion:this.appService.obtenerConsultaPorId("formasDeLesiones",i.shape_of_injury),numeroLesiones:this.appService.obtenerConsultaPorId("numeroDeLesiones",i.number_of_injuries),distribucion:this.appService.obtenerConsultaPorId("distribucionDeLaLesion",i.injury_distribucion),parteDelCuerpo:this.appService.obtenerParteCuerpoPorId(i.body_part),paciente:{nombre:null===(l=null==i?void 0:i.patient)||void 0===l?void 0:l.names}})}),t}}return e.\u0275fac=function(s){return new(s||e)(o.Y36(b),o.Y36(O.e),o.Y36(n.HT),o.Y36(p.F0),o.Y36(n.Br),o.Y36(c.qu),o.Y36(P.z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-casos-medicos"]],decls:43,vars:37,consts:[["slot","start"],[1,"ion-margin"],[3,"formGroup"],["type","text","formControlName","casosMedicosCtrl",3,"placeholder"],[4,"ngFor","ngForOf"],["expand","block",3,"click"]],template:function(s,t){1&s&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"ion-buttons",0),o._UZ(6,"ion-menu-button"),o.qZA()()(),o.TgZ(7,"ion-content",1)(8,"form",2)(9,"ion-item")(10,"ion-label"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o._UZ(13,"ion-input",3),o.ALo(14,"translate"),o.qZA()(),o.TgZ(15,"ion-grid",1)(16,"ion-row")(17,"ion-col"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"ion-col"),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"ion-col"),o._uU(24),o.ALo(25,"translate"),o.qZA(),o.TgZ(26,"ion-col"),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.TgZ(29,"ion-col"),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.TgZ(32,"ion-col"),o._uU(33),o.ALo(34,"translate"),o.qZA(),o.TgZ(35,"ion-col"),o._uU(36),o.ALo(37,"translate"),o.qZA(),o.TgZ(38,"ion-col"),o._uU(39),o.ALo(40,"translate"),o.qZA()(),o.YNc(41,x,19,10,"ion-row",4),o.ALo(42,"async"),o.qZA()()),2&s&&(o.xp6(3),o.Oqu(o.lcZ(4,13,"casosMedicos.titulo")),o.xp6(5),o.Q6J("formGroup",t.casosMedicosForm),o.xp6(3),o.Oqu(o.lcZ(12,15,"casosMedicos.buscarCasosMedicos")),o.xp6(2),o.s9C("placeholder",o.lcZ(14,17,"casosMedicos.placeHolderBuscarCasosMedicos")),o.xp6(5),o.Oqu(o.lcZ(19,19,"casosMedicos.idNo")),o.xp6(3),o.Oqu(o.lcZ(22,21,"casosMedicos.nombrePaciente")),o.xp6(3),o.Oqu(o.lcZ(25,23,"casosMedicos.tipo")),o.xp6(3),o.Oqu(o.lcZ(28,25,"casosMedicos.forma")),o.xp6(3),o.Oqu(o.lcZ(31,27,"casosMedicos.numero")),o.xp6(3),o.Oqu(o.lcZ(34,29,"casosMedicos.distribucion")),o.xp6(3),o.Oqu(o.lcZ(37,31,"casosMedicos.parteDelCuerpo")),o.xp6(3),o.Oqu(o.lcZ(40,33,"casosMedicos.seleccionar")),o.xp6(2),o.Q6J("ngForOf",o.lcZ(42,35,t.filtroCasosMedicos)))},dependencies:[u.sg,c._Y,c.JJ,c.JL,n.YG,n.Sm,n.wI,n.W2,n.jY,n.Gu,n.pK,n.Ie,n.Q$,n.fG,n.Nd,n.wd,n.sr,n.j9,c.sg,c.u,u.Ov,h.X$],styles:[".web-casos-medicos[_ngcontent-%COMP%]{max-width:860px;text-align:center;margin:auto;width:60%;padding:10px}ion-grid[_ngcontent-%COMP%]{--ion-grid-column-padding: 10px;border-collapse:collapse;border-style:hidden}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]:first-child{background-color:#2d2dd3;font-weight:700}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border:1px solid black;border-bottom:0;border-right:0}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child{border-right:1px solid black}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]:last-child{border-bottom:1px solid black}"]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.Bz.forChild(L),p.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.ez,c.u5,n.Pc,q,c.UX,h.aw]}),e})()}}]);